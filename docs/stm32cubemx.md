# Use devicetree generated by STM32CubeMX

The [STM32CubeMX tool](https://www.st.com/en/development-tools/stm32cubemx.html "STM32CubeMX tool") allows you to automatize the generation of devicetrees with an easy to use interface.
You can configure the state of each pin of the stm32mp1 component.  
The tool generates devicetree for Linux, U-Boot and Arm-Trusted-Firmware (ATF).  
The two defaults devictrees examples for DK1 and DK2 generated by ST32CubeMX have been moved here: `board/stmicroelectronics/stm32mp157/\*-dts`
To use these devicetrees in Buildroot you need to change 2 things:
* The Buildroot defconfig. Update the devicetree name and the `BR2_*_CUSTOM_DTS_PATH` configurations, for the Kernel, U-Boot and ATF.
* Update the devicetree name described in the `extlinux.conf` file. This file is located in the overlay.

You might need to modify the post-image.sh script to use other naming of ATF binary.  
Please see the commit _configs/st: support external devicetrees for kernel, U-boot and ATF_ as an example of using devicetree generated by STM32CubeMX.
